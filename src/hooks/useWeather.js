import { useEffect, useState } from "react";
import { requestCurrentLocation, requestForecast } from "../scripts/api";

const mockedForecast = {
  name: "Stockholm",
  current: {
    dt: 1697142867,
    sunrise: 1697087823,
    sunset: 1697125875,
    temp: 8.9,
    feels_like: 6.37,
    pressure: 1000,
    humidity: 65,
    dew_point: 2.69,
    uvi: 0,
    clouds: 2,
    visibility: 10000,
    wind_speed: 4.63,
    wind_deg: 260,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
  },
  daily: [
    {
      dt: 1697104800,
      sunrise: 1697087823,
      sunset: 1697125875,
      moonrise: 1697076060,
      moonset: 1697125140,
      moon_phase: 0.93,
      temp: {
        day: 12.14,
        min: 8.89,
        max: 13.06,
        night: 8.9,
        eve: 11.57,
        morn: 9.43,
      },
      feels_like: {
        day: 10.9,
        night: 6.66,
        eve: 10.06,
        morn: 5.82,
      },
      pressure: 992,
      humidity: 57,
      dew_point: 3.88,
      wind_speed: 9.56,
      wind_deg: 250,
      wind_gust: 19.31,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01d",
        },
      ],
      clouds: 6,
      pop: 0,
      uvi: 1.18,
    },
    {
      dt: 1697191200,
      sunrise: 1697174365,
      sunset: 1697212103,
      moonrise: 1697167380,
      moonset: 1697211540,
      moon_phase: 0.96,
      temp: {
        day: 9.6,
        min: 5.13,
        max: 13.54,
        night: 13.54,
        eve: 9.35,
        morn: 5.35,
      },
      feels_like: {
        day: 7.19,
        night: 13.4,
        eve: 6.37,
        morn: 2.81,
      },
      pressure: 1005,
      humidity: 70,
      dew_point: 4.34,
      wind_speed: 8.94,
      wind_deg: 174,
      wind_gust: 19.11,
      weather: [
        {
          id: 501,
          main: "Rain",
          description: "moderate rain",
          icon: "10d",
        },
      ],
      clouds: 84,
      pop: 1,
      rain: 8.31,
      uvi: 1.01,
    },
    {
      dt: 1697277600,
      sunrise: 1697260908,
      sunset: 1697298332,
      moonrise: 1697258760,
      moonset: 1697297940,
      moon_phase: 0,
      temp: {
        day: 10.96,
        min: 8.74,
        max: 15.76,
        night: 8.74,
        eve: 10.04,
        morn: 10.96,
      },
      feels_like: {
        day: 9.78,
        night: 5.09,
        eve: 8.74,
        morn: 10.23,
      },
      pressure: 984,
      humidity: 64,
      dew_point: 4.4,
      wind_speed: 9.27,
      wind_deg: 235,
      wind_gust: 18.33,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10d",
        },
      ],
      clouds: 34,
      pop: 0.8,
      rain: 1.03,
      uvi: 1.05,
    },
    {
      dt: 1697364000,
      sunrise: 1697347450,
      sunset: 1697384561,
      moonrise: 1697350260,
      moonset: 1697384400,
      moon_phase: 0.02,
      temp: {
        day: 9.74,
        min: 5.87,
        max: 9.98,
        night: 5.87,
        eve: 8.85,
        morn: 7.48,
      },
      feels_like: {
        day: 6.8,
        night: 1.73,
        eve: 5.46,
        morn: 4.02,
      },
      pressure: 992,
      humidity: 57,
      dew_point: 1.7,
      wind_speed: 8.18,
      wind_deg: 243,
      wind_gust: 15.79,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10d",
        },
      ],
      clouds: 88,
      pop: 0.2,
      rain: 0.1,
      uvi: 0.81,
    },
    {
      dt: 1697450400,
      sunrise: 1697433994,
      sunset: 1697470791,
      moonrise: 1697442120,
      moonset: 1697470860,
      moon_phase: 0.05,
      temp: {
        day: 6.34,
        min: 3.55,
        max: 8.15,
        night: 3.55,
        eve: 7.52,
        morn: 4.32,
      },
      feels_like: {
        day: 2.94,
        night: 0.73,
        eve: 4.85,
        morn: 0.06,
      },
      pressure: 1006,
      humidity: 52,
      dew_point: -2.94,
      wind_speed: 6.36,
      wind_deg: 298,
      wind_gust: 12.53,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01d",
        },
      ],
      clouds: 7,
      pop: 0,
      uvi: 0.88,
    },
    {
      dt: 1697536800,
      sunrise: 1697520537,
      sunset: 1697557022,
      moonrise: 1697534280,
      moonset: 1697557500,
      moon_phase: 0.09,
      temp: {
        day: 5.72,
        min: 3.01,
        max: 6.87,
        night: 3.4,
        eve: 5.85,
        morn: 3.5,
      },
      feels_like: {
        day: 3.23,
        night: 0.08,
        eve: 3.35,
        morn: 1.79,
      },
      pressure: 1007,
      humidity: 64,
      dew_point: -0.72,
      wind_speed: 3.7,
      wind_deg: 325,
      wind_gust: 9.79,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: 100,
      pop: 0.02,
      uvi: 0.65,
    },
    {
      dt: 1697623200,
      sunrise: 1697607082,
      sunset: 1697643253,
      moonrise: 1697626680,
      moonset: 1697644440,
      moon_phase: 0.12,
      temp: {
        day: 5.06,
        min: 1.97,
        max: 7.09,
        night: 3.11,
        eve: 5.61,
        morn: 2.15,
      },
      feels_like: {
        day: 1.24,
        night: -0.64,
        eve: 1.8,
        morn: -2.07,
      },
      pressure: 1013,
      humidity: 68,
      dew_point: -0.39,
      wind_speed: 5.68,
      wind_deg: 345,
      wind_gust: 11.44,
      weather: [
        {
          id: 801,
          main: "Clouds",
          description: "few clouds",
          icon: "02d",
        },
      ],
      clouds: 12,
      pop: 0.19,
      uvi: 1,
    },
    {
      dt: 1697709600,
      sunrise: 1697693626,
      sunset: 1697729486,
      moonrise: 1697718900,
      moonset: 1697732160,
      moon_phase: 0.15,
      temp: {
        day: 4.66,
        min: 2,
        max: 4.66,
        night: 3.15,
        eve: 4.07,
        morn: 2.25,
      },
      feels_like: {
        day: 0.6,
        night: -0.94,
        eve: 0.32,
        morn: -2.08,
      },
      pressure: 1021,
      humidity: 69,
      dew_point: -0.74,
      wind_speed: 5.86,
      wind_deg: 358,
      wind_gust: 12.37,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10d",
        },
      ],
      clouds: 34,
      pop: 0.79,
      rain: 1.86,
      uvi: 1,
    },
  ],
  hourly: [
    {
      dt: 1697140800,
      temp: 8.89,
      feels_like: 6.37,
      pressure: 1000,
      humidity: 64,
      dew_point: 2.46,
      uvi: 0,
      clouds: 2,
      visibility: 10000,
      wind_speed: 4.58,
      wind_deg: 281,
      wind_gust: 10.98,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697144400,
      temp: 8.9,
      feels_like: 6.66,
      pressure: 1000,
      humidity: 65,
      dew_point: 2.69,
      uvi: 0,
      clouds: 2,
      visibility: 10000,
      wind_speed: 3.97,
      wind_deg: 273,
      wind_gust: 9.57,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697148000,
      temp: 8.61,
      feels_like: 6.5,
      pressure: 1001,
      humidity: 66,
      dew_point: 2.62,
      uvi: 0,
      clouds: 2,
      visibility: 10000,
      wind_speed: 3.6,
      wind_deg: 263,
      wind_gust: 8.86,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697151600,
      temp: 8.11,
      feels_like: 6.01,
      pressure: 1002,
      humidity: 69,
      dew_point: 2.77,
      uvi: 0,
      clouds: 3,
      visibility: 10000,
      wind_speed: 3.38,
      wind_deg: 258,
      wind_gust: 8.21,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697155200,
      temp: 7.42,
      feels_like: 5.32,
      pressure: 1003,
      humidity: 73,
      dew_point: 2.9,
      uvi: 0,
      clouds: 4,
      visibility: 10000,
      wind_speed: 3.15,
      wind_deg: 258,
      wind_gust: 7.7,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697158800,
      temp: 6.66,
      feels_like: 4.43,
      pressure: 1004,
      humidity: 77,
      dew_point: 2.92,
      uvi: 0,
      clouds: 8,
      visibility: 10000,
      wind_speed: 3.11,
      wind_deg: 258,
      wind_gust: 7.55,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697162400,
      temp: 5.77,
      feels_like: 3.56,
      pressure: 1005,
      humidity: 82,
      dew_point: 2.89,
      uvi: 0,
      clouds: 41,
      visibility: 10000,
      wind_speed: 2.82,
      wind_deg: 257,
      wind_gust: 6.95,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697166000,
      temp: 5.48,
      feels_like: 3.4,
      pressure: 1005,
      humidity: 84,
      dew_point: 2.99,
      uvi: 0,
      clouds: 44,
      visibility: 10000,
      wind_speed: 2.58,
      wind_deg: 242,
      wind_gust: 6.22,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697169600,
      temp: 5.35,
      feels_like: 2.81,
      pressure: 1005,
      humidity: 85,
      dew_point: 2.97,
      uvi: 0,
      clouds: 47,
      visibility: 10000,
      wind_speed: 3.16,
      wind_deg: 235,
      wind_gust: 7.98,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697173200,
      temp: 5.13,
      feels_like: 2.58,
      pressure: 1005,
      humidity: 86,
      dew_point: 2.98,
      uvi: 0,
      clouds: 47,
      visibility: 10000,
      wind_speed: 3.11,
      wind_deg: 229,
      wind_gust: 8.28,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697176800,
      temp: 5.23,
      feels_like: 2.46,
      pressure: 1005,
      humidity: 87,
      dew_point: 3.16,
      uvi: 0,
      clouds: 56,
      visibility: 10000,
      wind_speed: 3.48,
      wind_deg: 225,
      wind_gust: 9.04,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697180400,
      temp: 6.31,
      feels_like: 3.51,
      pressure: 1005,
      humidity: 83,
      dew_point: 3.51,
      uvi: 0.19,
      clouds: 53,
      visibility: 10000,
      wind_speed: 3.92,
      wind_deg: 228,
      wind_gust: 9.91,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697184000,
      temp: 7.54,
      feels_like: 4.86,
      pressure: 1005,
      humidity: 77,
      dew_point: 3.64,
      uvi: 0.45,
      clouds: 69,
      visibility: 10000,
      wind_speed: 4.24,
      wind_deg: 227,
      wind_gust: 9.31,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697187600,
      temp: 8.52,
      feels_like: 5.9,
      pressure: 1005,
      humidity: 72,
      dew_point: 3.8,
      uvi: 0.77,
      clouds: 79,
      visibility: 10000,
      wind_speed: 4.61,
      wind_deg: 227,
      wind_gust: 9.81,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697191200,
      temp: 9.6,
      feels_like: 7.19,
      pressure: 1005,
      humidity: 70,
      dew_point: 4.34,
      uvi: 0.94,
      clouds: 84,
      visibility: 10000,
      wind_speed: 4.75,
      wind_deg: 225,
      wind_gust: 8.96,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697194800,
      temp: 10.33,
      feels_like: 9.19,
      pressure: 1004,
      humidity: 68,
      dew_point: 4.7,
      uvi: 1.01,
      clouds: 87,
      visibility: 10000,
      wind_speed: 4.73,
      wind_deg: 215,
      wind_gust: 7.71,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697198400,
      temp: 10.64,
      feels_like: 9.51,
      pressure: 1003,
      humidity: 67,
      dew_point: 4.75,
      uvi: 0.86,
      clouds: 90,
      visibility: 10000,
      wind_speed: 4.63,
      wind_deg: 207,
      wind_gust: 7.42,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697202000,
      temp: 10.29,
      feels_like: 9.23,
      pressure: 1002,
      humidity: 71,
      dew_point: 5.1,
      uvi: 0.58,
      clouds: 100,
      visibility: 10000,
      wind_speed: 4.82,
      wind_deg: 192,
      wind_gust: 8.39,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697205600,
      temp: 9.55,
      feels_like: 7.1,
      pressure: 1000,
      humidity: 76,
      dew_point: 5.51,
      uvi: 0.3,
      clouds: 100,
      visibility: 10000,
      wind_speed: 4.81,
      wind_deg: 182,
      wind_gust: 9.52,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697209200,
      temp: 9.09,
      feels_like: 6.28,
      pressure: 998,
      humidity: 81,
      dew_point: 5.91,
      uvi: 0.09,
      clouds: 100,
      visibility: 10000,
      wind_speed: 5.45,
      wind_deg: 175,
      wind_gust: 11.19,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      pop: 0.08,
    },
    {
      dt: 1697212800,
      temp: 9.35,
      feels_like: 6.37,
      pressure: 996,
      humidity: 89,
      dew_point: 7.61,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 6.13,
      wind_deg: 163,
      wind_gust: 12.99,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10n",
        },
      ],
      pop: 0.34,
      rain: {
        "1h": 0.15,
      },
    },
    {
      dt: 1697216400,
      temp: 9.57,
      feels_like: 6.36,
      pressure: 993,
      humidity: 94,
      dew_point: 8.61,
      uvi: 0,
      clouds: 100,
      visibility: 7202,
      wind_speed: 7.09,
      wind_deg: 145,
      wind_gust: 14.64,
      weather: [
        {
          id: 501,
          main: "Rain",
          description: "moderate rain",
          icon: "10n",
        },
      ],
      pop: 0.81,
      rain: {
        "1h": 1.51,
      },
    },
    {
      dt: 1697220000,
      temp: 10.04,
      feels_like: 9.61,
      pressure: 990,
      humidity: 96,
      dew_point: 9.3,
      uvi: 0,
      clouds: 100,
      visibility: 3941,
      wind_speed: 7.92,
      wind_deg: 151,
      wind_gust: 17.14,
      weather: [
        {
          id: 501,
          main: "Rain",
          description: "moderate rain",
          icon: "10n",
        },
      ],
      pop: 1,
      rain: {
        "1h": 3.44,
      },
    },
    {
      dt: 1697223600,
      temp: 11.24,
      feels_like: 10.93,
      pressure: 987,
      humidity: 96,
      dew_point: 10.53,
      uvi: 0,
      clouds: 100,
      visibility: 3632,
      wind_speed: 8.94,
      wind_deg: 174,
      wind_gust: 18.46,
      weather: [
        {
          id: 501,
          main: "Rain",
          description: "moderate rain",
          icon: "10n",
        },
      ],
      pop: 1,
      rain: {
        "1h": 2.75,
      },
    },
    {
      dt: 1697227200,
      temp: 12.81,
      feels_like: 12.63,
      pressure: 985,
      humidity: 95,
      dew_point: 11.94,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 8.54,
      wind_deg: 198,
      wind_gust: 18.04,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10n",
        },
      ],
      pop: 1,
      rain: {
        "1h": 0.33,
      },
    },
    {
      dt: 1697230800,
      temp: 13.54,
      feels_like: 13.4,
      pressure: 984,
      humidity: 94,
      dew_point: 12.45,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 8.04,
      wind_deg: 201,
      wind_gust: 19.11,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10n",
        },
      ],
      pop: 1,
      rain: {
        "1h": 0.13,
      },
    },
    {
      dt: 1697234400,
      temp: 15.76,
      feels_like: 15.43,
      pressure: 983,
      humidity: 78,
      dew_point: 12.01,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 8.71,
      wind_deg: 229,
      wind_gust: 17.29,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      pop: 0.8,
    },
    {
      dt: 1697238000,
      temp: 14.19,
      feels_like: 13.7,
      pressure: 984,
      humidity: 78,
      dew_point: 10.42,
      uvi: 0,
      clouds: 98,
      visibility: 10000,
      wind_speed: 7.94,
      wind_deg: 236,
      wind_gust: 16.92,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      pop: 0.8,
    },
    {
      dt: 1697241600,
      temp: 13.27,
      feels_like: 12.74,
      pressure: 984,
      humidity: 80,
      dew_point: 9.9,
      uvi: 0,
      clouds: 96,
      visibility: 10000,
      wind_speed: 7.59,
      wind_deg: 234,
      wind_gust: 16.02,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      pop: 0.8,
    },
    {
      dt: 1697245200,
      temp: 13.1,
      feels_like: 12.5,
      pressure: 984,
      humidity: 78,
      dew_point: 9.34,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 7.29,
      wind_deg: 240,
      wind_gust: 16.1,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697248800,
      temp: 12.51,
      feels_like: 11.77,
      pressure: 984,
      humidity: 75,
      dew_point: 8.19,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 6.75,
      wind_deg: 232,
      wind_gust: 15.29,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697252400,
      temp: 11.67,
      feels_like: 10.93,
      pressure: 984,
      humidity: 78,
      dew_point: 7.85,
      uvi: 0,
      clouds: 77,
      visibility: 10000,
      wind_speed: 5.9,
      wind_deg: 236,
      wind_gust: 13.88,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04n",
        },
      ],
      pop: 0.05,
    },
    {
      dt: 1697256000,
      temp: 10.96,
      feels_like: 10.23,
      pressure: 983,
      humidity: 81,
      dew_point: 7.77,
      uvi: 0,
      clouds: 82,
      visibility: 10000,
      wind_speed: 5.57,
      wind_deg: 240,
      wind_gust: 13.03,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10n",
        },
      ],
      pop: 0.34,
      rain: {
        "1h": 0.14,
      },
    },
    {
      dt: 1697259600,
      temp: 10.23,
      feels_like: 9.32,
      pressure: 983,
      humidity: 77,
      dew_point: 6.43,
      uvi: 0,
      clouds: 86,
      visibility: 10000,
      wind_speed: 6.32,
      wind_deg: 247,
      wind_gust: 12.47,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10n",
        },
      ],
      pop: 0.56,
      rain: {
        "1h": 0.7,
      },
    },
    {
      dt: 1697263200,
      temp: 9.61,
      feels_like: 6.74,
      pressure: 983,
      humidity: 74,
      dew_point: 5.24,
      uvi: 0,
      clouds: 88,
      visibility: 10000,
      wind_speed: 6.01,
      wind_deg: 241,
      wind_gust: 13.42,
      weather: [
        {
          id: 500,
          main: "Rain",
          description: "light rain",
          icon: "10d",
        },
      ],
      pop: 0.6,
      rain: {
        "1h": 0.19,
      },
    },
    {
      dt: 1697266800,
      temp: 9.72,
      feels_like: 6.64,
      pressure: 984,
      humidity: 74,
      dew_point: 5.2,
      uvi: 0.19,
      clouds: 98,
      visibility: 10000,
      wind_speed: 6.79,
      wind_deg: 242,
      wind_gust: 15.02,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697270400,
      temp: 10.13,
      feels_like: 9.03,
      pressure: 984,
      humidity: 70,
      dew_point: 4.97,
      uvi: 0.46,
      clouds: 53,
      visibility: 10000,
      wind_speed: 7.22,
      wind_deg: 236,
      wind_gust: 15.47,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697274000,
      temp: 10.66,
      feels_like: 9.5,
      pressure: 984,
      humidity: 66,
      dew_point: 4.51,
      uvi: 0.8,
      clouds: 39,
      visibility: 10000,
      wind_speed: 8.13,
      wind_deg: 232,
      wind_gust: 15.45,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697277600,
      temp: 10.96,
      feels_like: 9.78,
      pressure: 984,
      humidity: 64,
      dew_point: 4.4,
      uvi: 0.98,
      clouds: 34,
      visibility: 10000,
      wind_speed: 8.56,
      wind_deg: 232,
      wind_gust: 16.64,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697281200,
      temp: 11.29,
      feels_like: 10.07,
      pressure: 984,
      humidity: 61,
      dew_point: 4.11,
      uvi: 1.05,
      clouds: 28,
      visibility: 10000,
      wind_speed: 8.76,
      wind_deg: 234,
      wind_gust: 17.71,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697284800,
      temp: 11.43,
      feels_like: 10.14,
      pressure: 983,
      humidity: 58,
      dew_point: 3.48,
      uvi: 0.9,
      clouds: 25,
      visibility: 10000,
      wind_speed: 8.8,
      wind_deg: 233,
      wind_gust: 18.33,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697288400,
      temp: 11.2,
      feels_like: 9.86,
      pressure: 983,
      humidity: 57,
      dew_point: 3.05,
      uvi: 0.53,
      clouds: 7,
      visibility: 10000,
      wind_speed: 9.06,
      wind_deg: 232,
      wind_gust: 17.8,
      weather: [
        {
          id: 800,
          main: "Clear",
          description: "clear sky",
          icon: "01d",
        },
      ],
      pop: 0.03,
    },
    {
      dt: 1697292000,
      temp: 10.55,
      feels_like: 9.25,
      pressure: 983,
      humidity: 61,
      dew_point: 3.23,
      uvi: 0.28,
      clouds: 26,
      visibility: 10000,
      wind_speed: 9.27,
      wind_deg: 235,
      wind_gust: 18.06,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03d",
        },
      ],
      pop: 0.03,
    },
    {
      dt: 1697295600,
      temp: 9.99,
      feels_like: 6.47,
      pressure: 984,
      humidity: 63,
      dew_point: 3.16,
      uvi: 0,
      clouds: 37,
      visibility: 10000,
      wind_speed: 8.78,
      wind_deg: 241,
      wind_gust: 17.58,
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03d",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697299200,
      temp: 10.04,
      feels_like: 8.74,
      pressure: 984,
      humidity: 63,
      dew_point: 3.37,
      uvi: 0,
      clouds: 52,
      visibility: 10000,
      wind_speed: 8.7,
      wind_deg: 240,
      wind_gust: 16.6,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697302800,
      temp: 9.8,
      feels_like: 6.28,
      pressure: 984,
      humidity: 63,
      dew_point: 3.1,
      uvi: 0,
      clouds: 59,
      visibility: 10000,
      wind_speed: 8.51,
      wind_deg: 241,
      wind_gust: 16.68,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697306400,
      temp: 9.69,
      feels_like: 6.16,
      pressure: 984,
      humidity: 63,
      dew_point: 2.83,
      uvi: 0,
      clouds: 66,
      visibility: 10000,
      wind_speed: 8.43,
      wind_deg: 241,
      wind_gust: 16.46,
      weather: [
        {
          id: 803,
          main: "Clouds",
          description: "broken clouds",
          icon: "04n",
        },
      ],
      pop: 0,
    },
    {
      dt: 1697310000,
      temp: 9.28,
      feels_like: 5.59,
      pressure: 985,
      humidity: 65,
      dew_point: 3.1,
      uvi: 0,
      clouds: 100,
      visibility: 10000,
      wind_speed: 8.56,
      wind_deg: 238,
      wind_gust: 15.36,
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      pop: 0,
    },
  ],
  timezone: "Europe/Stockholm",
};

function useWeather() {
  const [forecast, setForecast] = useState(null);
  const [currentLocation, setCurrentLocation] = useState(null);

  useEffect(() => {
    (async () => {
      const location = await requestCurrentLocation();
      setCurrentLocation(location);
    })();
  }, []);

  useEffect(() => {
    if (currentLocation) {
      (async () => {
        console.log(currentLocation);
        const forecast = await requestForecast(currentLocation);
        setForecast(forecast);
      })();
    }
  }, [currentLocation]);

  // useEffect(() => {
  //   setForecast(mockedForecast);
  // }, []);

  useEffect(() => {
    if (forecast) console.log(forecast);
  }, [forecast]);

  return [forecast, setForecast, setCurrentLocation];
}

export default useWeather;
